{% extends 'hospital/patient_base.html' %}
{% load static %}

{% block content %}
<!-- Page Header -->
<div class="page-header">
  <div class="container">
    <div class="row align-items-center">
      <div class="col-lg-6">
        <h1 class="fw-bold mb-3">Appointment Management</h1>
        <p class="lead mb-0">Book and manage your medical appointments</p>
      </div>
    </div>
  </div>
</div>

<div class="container py-4">
  <div class="row g-4">
    <!-- View Appointments -->
    <div class="col-md-6">
      <div class="card h-100 border-0 shadow-sm">
        <div class="card-body p-4">
          <div class="d-flex align-items-center mb-4">
            <div class="feature-icon bg-primary-subtle rounded-circle p-3 me-3">
              <i class="fas fa-calendar-alt text-primary fs-4"></i>
            </div>
            <div>
              <h4 class="mb-1">View Appointments</h4>
              <p class="text-muted mb-0">Check your upcoming and past appointments</p>
            </div>
          </div>
          
          <div class="d-flex justify-content-between align-items-center">
            <div>
              <h2 class="mb-0">{{ upcoming_appointments|default:"0" }}</h2>
              <p class="text-muted mb-0">Upcoming appointments</p>
            </div>
            <a href="{% url 'patient-view-appointment' %}" class="btn btn-primary">
              <i class="fas fa-eye me-2"></i>View All
            </a>
          </div>
        </div>
      </div>
    </div>

    <!-- Book Appointment -->
    <div class="col-md-6">
      <div class="card h-100 border-0 shadow-sm">
        <div class="card-body p-4">
          <div class="d-flex align-items-center mb-4">
            <div class="feature-icon bg-success-subtle rounded-circle p-3 me-3">
              <i class="fas fa-calendar-plus text-success fs-4"></i>
            </div>
            <div>
              <h4 class="mb-1">Book Appointment</h4>
              <p class="text-muted mb-0">Schedule a new appointment with a doctor</p>
            </div>
          </div>
          
          <div class="d-flex justify-content-between align-items-center">
            <div>
              <h2 class="mb-0">{{ available_doctors|default:"0" }}</h2>
              <p class="text-muted mb-0">Available doctors</p>
            </div>
            <a href="{% url 'patient-book-appointment' %}" class="btn btn-success">
              <i class="fas fa-plus me-2"></i>Book Now
            </a>
          </div>
        </div>
      </div>
    </div>

    <!-- Quick Actions -->
    <div class="col-12">
      <div class="card border-0 shadow-sm">
        <div class="card-body p-4">
          <h4 class="mb-4">Quick Actions</h4>
          <div class="row g-4">
            <!-- Find Doctor -->
            <div class="col-md-4">
              <a href="{% url 'patient-view-doctor' %}" class="text-decoration-none">
                <div class="quick-action-card bg-light rounded p-4 text-center">
                  <i class="fas fa-user-md text-primary mb-3 fs-3"></i>
                  <h5 class="mb-2">Find Doctor</h5>
                  <p class="text-muted mb-0 small">Search doctors by speciality</p>
                </div>
              </a>
            </div>
            
            <!-- Emergency Contact -->
            <div class="col-md-4">
              <div class="quick-action-card bg-light rounded p-4 text-center">
                <i class="fas fa-phone-alt text-danger mb-3 fs-3"></i>
                <h5 class="mb-2">Emergency</h5>
                <p class="text-muted mb-0 small">Call: {{ emergency_contact|default:"911" }}</p>
              </div>
            </div>
            
            <!-- Medical Records -->
            <div class="col-md-4">
              <a href="{% url 'patient-discharge' %}" class="text-decoration-none">
                <div class="quick-action-card bg-light rounded p-4 text-center">
                  <i class="fas fa-file-medical text-info mb-3 fs-3"></i>
                  <h5 class="mb-2">Medical Records</h5>
                  <p class="text-muted mb-0 small">View your medical history</p>
                </div>
              </a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<style>
.page-header {
  background: linear-gradient(45deg, #4f46e5, #4338ca);
  color: white;
  padding: 3rem 0;
  margin-bottom: 2rem;
}

.feature-icon {
  width: 64px;
  height: 64px;
  display: flex;
  align-items: center;
  justify-content: center;
}

.quick-action-card {
  transition: all 0.3s ease;
  border: 1px solid rgba(0,0,0,0.05);
}

.quick-action-card:hover {
  transform: translateY(-5px);
  box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1), 0 2px 4px -1px rgba(0,0,0,0.06);
}

.bg-primary-subtle {
  background-color: rgba(79, 70, 229, 0.1);
}

.bg-success-subtle {
  background-color: rgba(16, 185, 129, 0.1);
}

.text-primary {
  color: #4f46e5 !important;
}

.text-success {
  color: #10b981 !important;
}

.btn-primary {
  background-color: #4f46e5;
  border-color: #4f46e5;
}

.btn-success {
  background-color: #10b981;
  border-color: #10b981;
}

.btn-primary:hover {
  background-color: #4338ca;
  border-color: #4338ca;
}

.btn-success:hover {
  background-color: #059669;
  border-color: #059669;
}
</style>
{% endblock content %}
